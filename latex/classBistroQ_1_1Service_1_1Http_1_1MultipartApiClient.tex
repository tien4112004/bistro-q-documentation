\doxysection{Bistro\+Q.\+Service.\+Http.\+Multipart\+Api\+Client Class Reference}
\hypertarget{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient}{}\label{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient}\index{BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}}


Implements multipart form data handling for API requests, supporting file uploads and JSON content. Provides methods for POST, PUT, and PATCH operations with multipart/form-\/data content type.  




Inheritance diagram for Bistro\+Q.\+Service.\+Http.\+Multipart\+Api\+Client\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Bistro\+Q.\+Service.\+Http.\+Multipart\+Api\+Client\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a179d6fe66b94a27ef687bb88bf393449}{Multipart\+Api\+Client}} (Http\+Client http\+Client)
\item 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ \mbox{\hyperlink{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a4f8f23f3a9eae00063d2d0ad9191d61e}{Post\+Multipart\+Async$<$ T $>$}} (string url, Multipart\+Form\+Data\+Content content)
\begin{DoxyCompactList}\small\item\em Sends a POST request with multipart form data content. \end{DoxyCompactList}\item 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ \mbox{\hyperlink{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_aae6fa278e4230911574bc4caf51f232b}{Post\+Multipart\+Async$<$ T $>$}} (string url, object json\+Content, string json\+Part\+Name, Dictionary$<$ string,(Stream Stream, string File\+Name, string Content\+Type)$>$ files)
\begin{DoxyCompactList}\small\item\em Sends a POST request with JSON content and files as multipart form data. \end{DoxyCompactList}\item 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ \mbox{\hyperlink{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a1b2d3c9fd9ade23876d7a135428fca49}{Put\+Multipart\+Async$<$ T $>$}} (string url, object json\+Content, string json\+Part\+Name, Dictionary$<$ string,(Stream Stream, string File\+Name, string Content\+Type)$>$ files)
\begin{DoxyCompactList}\small\item\em Sends a PUT request with JSON content and files as multipart form data. \end{DoxyCompactList}\item 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ \mbox{\hyperlink{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a7090d6d80c09acf7a79dc56f9756e6ac}{Put\+Multipart\+Async$<$ T $>$}} (string url, Dictionary$<$ string,(Stream Stream, string File\+Name, string Content\+Type)$>$ files)
\begin{DoxyCompactList}\small\item\em Sends a PUT request with only file content as multipart form data. \end{DoxyCompactList}\item 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ \mbox{\hyperlink{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a3fb2afb6d7282df0fcfac3138c94b8cf}{Patch\+Multipart\+Async$<$ T $>$}} (string url, Dictionary$<$ string,(Stream Stream, string File\+Name, string Content\+Type)$>$ files)
\begin{DoxyCompactList}\small\item\em Sends a PATCH request with only file content as multipart form data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{interfaceBistroQ_1_1Domain_1_1Contracts_1_1Http_1_1IMultipartApiClient}{Bistro\+Q.\+Domain.\+Contracts.\+Http.\+IMultipart\+Api\+Client}}}


\doxysubsection{Detailed Description}
Implements multipart form data handling for API requests, supporting file uploads and JSON content. Provides methods for POST, PUT, and PATCH operations with multipart/form-\/data content type. 

Definition at line \mbox{\hyperlink{MultipartApiClient_8cs_source_l00011}{11}} of file \mbox{\hyperlink{MultipartApiClient_8cs_source}{Multipart\+Api\+Client.\+cs}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a179d6fe66b94a27ef687bb88bf393449}\index{BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}!MultipartApiClient@{MultipartApiClient}}
\index{MultipartApiClient@{MultipartApiClient}!BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}}
\doxysubsubsection{\texorpdfstring{MultipartApiClient()}{MultipartApiClient()}}
{\footnotesize\ttfamily \label{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a179d6fe66b94a27ef687bb88bf393449} 
Bistro\+Q.\+Service.\+Http.\+Multipart\+Api\+Client.\+Multipart\+Api\+Client (\begin{DoxyParamCaption}\item[{Http\+Client}]{http\+Client}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{MultipartApiClient_8cs_source_l00018}{18}} of file \mbox{\hyperlink{MultipartApiClient_8cs_source}{Multipart\+Api\+Client.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00019\ \ \ \ \ \{}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \_httpClient\ =\ httpClient\ ??\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ArgumentNullException(nameof(httpClient));}
\DoxyCodeLine{00021\ \ \ \ \ \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a3fb2afb6d7282df0fcfac3138c94b8cf}\index{BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}!PatchMultipartAsync$<$ T $>$@{PatchMultipartAsync$<$ T $>$}}
\index{PatchMultipartAsync$<$ T $>$@{PatchMultipartAsync$<$ T $>$}!BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}}
\doxysubsubsection{\texorpdfstring{PatchMultipartAsync$<$ T $>$()}{PatchMultipartAsync< T >()}}
{\footnotesize\ttfamily \label{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a3fb2afb6d7282df0fcfac3138c94b8cf} 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ Bistro\+Q.\+Service.\+Http.\+Multipart\+Api\+Client.\+Patch\+Multipart\+Async$<$ T $>$ (\begin{DoxyParamCaption}\item[{string}]{url}{, }\item[{Dictionary$<$ string,(Stream Stream, string File\+Name, string Content\+Type)$>$}]{files}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sends a PATCH request with only file content as multipart form data. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of the expected response data.\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em url} & The URL to send the request to.\\
\hline
{\em files} & Dictionary of files to upload, containing stream, filename, and content type for each file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An API response containing data of type {\itshape T} .
\end{DoxyReturn}


Implements \mbox{\hyperlink{interfaceBistroQ_1_1Domain_1_1Contracts_1_1Http_1_1IMultipartApiClient_a163bb7f4f3db7a63a23ad489b7d16cca}{Bistro\+Q.\+Domain.\+Contracts.\+Http.\+IMultipart\+Api\+Client}}.



Definition at line \mbox{\hyperlink{MultipartApiClient_8cs_source_l00110}{110}} of file \mbox{\hyperlink{MultipartApiClient_8cs_source}{Multipart\+Api\+Client.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00111\ \ \ \ \ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }var\ content\ =\ \textcolor{keyword}{new}\ MultipartFormDataContent();}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ file\ \textcolor{keywordflow}{in}\ files)}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ var\ fileContent\ =\ \textcolor{keyword}{new}\ StreamContent(file.Value.Stream);}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ fileContent.Headers.ContentType\ =\ \textcolor{keyword}{new}\ System.Net.Http.Headers.MediaTypeHeaderValue(file.Value.ContentType);}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ content.Add(fileContent,\ file.Key,\ file.Value.FileName);}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ var\ response\ =\ await\ \_httpClient.PatchAsync(url,\ content);}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ await\ HandleResponse<T>(response);}
\DoxyCodeLine{00122\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a4f8f23f3a9eae00063d2d0ad9191d61e}\index{BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}!PostMultipartAsync$<$ T $>$@{PostMultipartAsync$<$ T $>$}}
\index{PostMultipartAsync$<$ T $>$@{PostMultipartAsync$<$ T $>$}!BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}}
\doxysubsubsection{\texorpdfstring{PostMultipartAsync$<$ T $>$()}{PostMultipartAsync< T >()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a4f8f23f3a9eae00063d2d0ad9191d61e} 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ Bistro\+Q.\+Service.\+Http.\+Multipart\+Api\+Client.\+Post\+Multipart\+Async$<$ T $>$ (\begin{DoxyParamCaption}\item[{string}]{url}{, }\item[{Multipart\+Form\+Data\+Content}]{content}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sends a POST request with multipart form data content. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of the expected response data.\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em url} & The URL to send the request to.\\
\hline
{\em content} & The multipart form data content to send.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An API response containing data of type {\itshape T} .
\end{DoxyReturn}


Implements \mbox{\hyperlink{interfaceBistroQ_1_1Domain_1_1Contracts_1_1Http_1_1IMultipartApiClient_a219c906655d1683735aa18cb0f425dbf}{Bistro\+Q.\+Domain.\+Contracts.\+Http.\+IMultipart\+Api\+Client}}.



Definition at line \mbox{\hyperlink{MultipartApiClient_8cs_source_l00025}{25}} of file \mbox{\hyperlink{MultipartApiClient_8cs_source}{Multipart\+Api\+Client.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00026\ \ \ \ \ \{}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ var\ response\ =\ await\ \_httpClient.PostAsync(url,\ content);}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ await\ HandleResponse<T>(response);}
\DoxyCodeLine{00029\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_aae6fa278e4230911574bc4caf51f232b}\index{BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}!PostMultipartAsync$<$ T $>$@{PostMultipartAsync$<$ T $>$}}
\index{PostMultipartAsync$<$ T $>$@{PostMultipartAsync$<$ T $>$}!BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}}
\doxysubsubsection{\texorpdfstring{PostMultipartAsync$<$ T $>$()}{PostMultipartAsync< T >()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_aae6fa278e4230911574bc4caf51f232b} 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ Bistro\+Q.\+Service.\+Http.\+Multipart\+Api\+Client.\+Post\+Multipart\+Async$<$ T $>$ (\begin{DoxyParamCaption}\item[{string}]{url}{, }\item[{object}]{json\+Content}{, }\item[{string}]{json\+Part\+Name}{, }\item[{Dictionary$<$ string,(Stream Stream, string File\+Name, string Content\+Type)$>$}]{files}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sends a POST request with JSON content and files as multipart form data. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of the expected response data.\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em url} & The URL to send the request to.\\
\hline
{\em json\+Content} & The JSON content to include in the request.\\
\hline
{\em json\+Part\+Name} & The name of the JSON part in the multipart form.\\
\hline
{\em files} & Dictionary of files to upload, containing stream, filename, and content type for each file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An API response containing data of type {\itshape T} .
\end{DoxyReturn}


Implements \mbox{\hyperlink{interfaceBistroQ_1_1Domain_1_1Contracts_1_1Http_1_1IMultipartApiClient_a1dd914c2123861114ed8ee497490e1e1}{Bistro\+Q.\+Domain.\+Contracts.\+Http.\+IMultipart\+Api\+Client}}.



Definition at line \mbox{\hyperlink{MultipartApiClient_8cs_source_l00031}{31}} of file \mbox{\hyperlink{MultipartApiClient_8cs_source}{Multipart\+Api\+Client.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00033\ \ \ \ \ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }var\ content\ =\ \textcolor{keyword}{new}\ MultipartFormDataContent();}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (jsonContent\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ var\ properties\ =\ jsonContent.GetType().GetProperties();}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ property\ \textcolor{keywordflow}{in}\ properties)}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ value\ =\ \textcolor{keyword}{property}.GetValue(jsonContent)?.ToString();}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ content.Add(\textcolor{keyword}{new}\ StringContent(value),\ \$\textcolor{stringliteral}{"{}\{jsonPartName\}.\{property.Name\}"{}});}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (files\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ file\ \textcolor{keywordflow}{in}\ files)}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ fileContent\ =\ \textcolor{keyword}{new}\ StreamContent(file.Value.Stream);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fileContent.Headers.ContentType\ =\ \textcolor{keyword}{new}\ System.Net.Http.Headers.MediaTypeHeaderValue(file.Value.ContentType);}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ content.Add(fileContent,\ file.Key,\ file.Value.FileName);}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ var\ response\ =\ await\ \_httpClient.PostAsync(url,\ content);}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ await\ HandleResponse<T>(response);}
\DoxyCodeLine{00061\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a7090d6d80c09acf7a79dc56f9756e6ac}\index{BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}!PutMultipartAsync$<$ T $>$@{PutMultipartAsync$<$ T $>$}}
\index{PutMultipartAsync$<$ T $>$@{PutMultipartAsync$<$ T $>$}!BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}}
\doxysubsubsection{\texorpdfstring{PutMultipartAsync$<$ T $>$()}{PutMultipartAsync< T >()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a7090d6d80c09acf7a79dc56f9756e6ac} 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ Bistro\+Q.\+Service.\+Http.\+Multipart\+Api\+Client.\+Put\+Multipart\+Async$<$ T $>$ (\begin{DoxyParamCaption}\item[{string}]{url}{, }\item[{Dictionary$<$ string,(Stream Stream, string File\+Name, string Content\+Type)$>$}]{files}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sends a PUT request with only file content as multipart form data. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of the expected response data.\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em url} & The URL to send the request to.\\
\hline
{\em files} & Dictionary of files to upload, containing stream, filename, and content type for each file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An API response containing data of type {\itshape T} .
\end{DoxyReturn}


Implements \mbox{\hyperlink{interfaceBistroQ_1_1Domain_1_1Contracts_1_1Http_1_1IMultipartApiClient_aa313bdf3093ef63462a7d64b7a1463e2}{Bistro\+Q.\+Domain.\+Contracts.\+Http.\+IMultipart\+Api\+Client}}.



Definition at line \mbox{\hyperlink{MultipartApiClient_8cs_source_l00096}{96}} of file \mbox{\hyperlink{MultipartApiClient_8cs_source}{Multipart\+Api\+Client.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00097\ \ \ \ \ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }var\ content\ =\ \textcolor{keyword}{new}\ MultipartFormDataContent();}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ file\ \textcolor{keywordflow}{in}\ files)}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ var\ fileContent\ =\ \textcolor{keyword}{new}\ StreamContent(file.Value.Stream);}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ fileContent.Headers.ContentType\ =\ \textcolor{keyword}{new}\ System.Net.Http.Headers.MediaTypeHeaderValue(file.Value.ContentType);}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ content.Add(fileContent,\ file.Key,\ file.Value.FileName);}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ var\ response\ =\ await\ \_httpClient.PutAsync(url,\ content);}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ await\ HandleResponse<T>(response);}
\DoxyCodeLine{00108\ \ \ \ \ \}}

\end{DoxyCode}
\Hypertarget{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a1b2d3c9fd9ade23876d7a135428fca49}\index{BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}!PutMultipartAsync$<$ T $>$@{PutMultipartAsync$<$ T $>$}}
\index{PutMultipartAsync$<$ T $>$@{PutMultipartAsync$<$ T $>$}!BistroQ.Service.Http.MultipartApiClient@{BistroQ.Service.Http.MultipartApiClient}}
\doxysubsubsection{\texorpdfstring{PutMultipartAsync$<$ T $>$()}{PutMultipartAsync< T >()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classBistroQ_1_1Service_1_1Http_1_1MultipartApiClient_a1b2d3c9fd9ade23876d7a135428fca49} 
async Task$<$ \mbox{\hyperlink{classBistroQ_1_1Domain_1_1Dtos_1_1ApiResponse}{Api\+Response}}$<$ T $>$ $>$ Bistro\+Q.\+Service.\+Http.\+Multipart\+Api\+Client.\+Put\+Multipart\+Async$<$ T $>$ (\begin{DoxyParamCaption}\item[{string}]{url}{, }\item[{object}]{json\+Content}{, }\item[{string}]{json\+Part\+Name}{, }\item[{Dictionary$<$ string,(Stream Stream, string File\+Name, string Content\+Type)$>$}]{files}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sends a PUT request with JSON content and files as multipart form data. 


\begin{DoxyTemplParams}{Template Parameters}
{\em T} & The type of the expected response data.\\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em url} & The URL to send the request to.\\
\hline
{\em json\+Content} & The JSON content to include in the request.\\
\hline
{\em json\+Part\+Name} & The name of the JSON part in the multipart form.\\
\hline
{\em files} & Dictionary of files to upload, containing stream, filename, and content type for each file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An API response containing data of type {\itshape T} .
\end{DoxyReturn}


Implements \mbox{\hyperlink{interfaceBistroQ_1_1Domain_1_1Contracts_1_1Http_1_1IMultipartApiClient_aa8520259b8f590d0392005f7a3ed01d1}{Bistro\+Q.\+Domain.\+Contracts.\+Http.\+IMultipart\+Api\+Client}}.



Definition at line \mbox{\hyperlink{MultipartApiClient_8cs_source_l00064}{64}} of file \mbox{\hyperlink{MultipartApiClient_8cs_source}{Multipart\+Api\+Client.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00066\ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using\ }var\ content\ =\ \textcolor{keyword}{new}\ MultipartFormDataContent();}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (jsonContent\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ var\ properties\ =\ jsonContent.GetType().GetProperties();}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ property\ \textcolor{keywordflow}{in}\ properties)}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ value\ =\ \textcolor{keyword}{property}.GetValue(jsonContent)?.ToString();}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (value\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ content.Add(\textcolor{keyword}{new}\ StringContent(value),\ \$\textcolor{stringliteral}{"{}\{jsonPartName\}.\{property.Name\}"{}});}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (files\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (var\ file\ \textcolor{keywordflow}{in}\ files)}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ fileContent\ =\ \textcolor{keyword}{new}\ StreamContent(file.Value.Stream);}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fileContent.Headers.ContentType\ =\ \textcolor{keyword}{new}\ System.Net.Http.Headers.MediaTypeHeaderValue(file.Value.ContentType);}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ content.Add(fileContent,\ file.Key,\ file.Value.FileName);}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ var\ response\ =\ await\ \_httpClient.PutAsync(url,\ content);}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ await\ HandleResponse<T>(response);}
\DoxyCodeLine{00094\ \ \ \ \ \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Bistro\+Q.\+Service/\+Http/Multipart\+Api\+Client.\+cs\end{DoxyCompactItemize}
